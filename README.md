# Simple express API with PostgreSQL and static file service

## Описание

REST-API с CRUD операциями и системой авторизации для работы с пользователями и постами.<br>

Реализовано:

- Система авторизации с email и ролями (используются access и refresh токены)
- Пользователи
- Посты (с изображением и без)
- Обработка ошибок
- Валидация данных
- Миграция и seeding БД
- Юнит + интеграционные тесты с использованием виртуальной БД и файловой системы
- Коллекция в postman

Также реализована раздача статических файлов из папки static по роуту `/static/<imageName>`<br>
Пример использования:

```
http://localhost:5000/static/982820dd-b97a-44f6-8e03-6df854942fa1.jpg
```

В проекте используются интеграционные и юнит-тесты. Для тестов используется виртуальная СУБД, работающая при помощи `testcontainers` и виртуальная файловая система `mock-fs`.<br>

**Важно:**<br>
Для работы `testcontainers` необходима среда выполнения (Runtime Environment) для контейнеров.<br>
Самый популярный вариант такой среды - `Docker Desktop`

## Начало работы

1. Создать БД в PostgreSQL
2. Скопировать `.env.example` и переименовать копию в `.env`, настроить.
3. `npm install`
4. `npm run migrate` - для создания таблиц в БД и миграций
5. `npm run test` - для запуска тестов
